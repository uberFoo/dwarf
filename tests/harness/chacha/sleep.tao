async fn main() -> Future<()> {
    async {
        let duration = chacha::time(|| {
            async {
                print("sleeping\n");
                chacha::sleep(1500);
                chacha::sleep(1000).await;
                print("awake\n");
            }
            .await
        });

        let delta = duration - 1.0;

        print("delta: {0}\n".format(delta));

        chacha::assert(delta < 0.005);
    }
    .await;
}
